<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Building components · Backstage</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Material-UI"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Building components · Backstage"/><meta property="og:type" content="website"/><meta property="og:url" content="https://backstage.io/"/><meta property="og:description" content="## Material-UI"/><meta property="og:image" content="https://backstage.io/https://backstage.io/blog/assets/6/header.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://backstage.io/https://backstage.io/blog/assets/6/header.png"/><link rel="shortcut icon" href="/img/favicon.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"/><link rel="alternate" type="application/atom+xml" href="https://backstage.io/blog/atom.xml" title="Backstage Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://backstage.io/blog/feed.xml" title="Backstage Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-48912878-10', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:500,700&amp;display=swap"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Backstage</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://github.com/spotify/backstage" target="_self">GitHub</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="/demos" target="_self">Demos</a></li><li class=""><a href="/background" target="_self">The Spotify story</a></li><li class=""><a href="https://mailchi.mp/spotify/backstage-community" target="_self">Newsletter</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Plugins</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Plugins</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/developing-a-plugin">Developing a plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-api">Plugin API</a></li><li class="navListItem"><a class="navItem" href="/docs/create-plugin-api-v2">Create Plugin API v2</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-structure">Plugin structure</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/components">Building components</a></li><li class="navListItem"><a class="navItem" href="/docs/errors-notifications">Errors and Notifications</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/apis">API Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Layout components</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/layout-components">Layout components</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Testing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/testing-with-jest">Testing</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Building components</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="material-ui"></a><a href="#material-ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Material-UI</h2>
<p>Backstage uses the <a href="https://material-ui.com/">Material-UI component library</a> as its foundation. Feel free to use any of the Material-UI <a href="https://material-ui.com/demos/app-bar/">components</a>, unless otherwise directed.</p>
<p>If something you want to build isn’t covered in these guidelines, refer to Google’s Material Design Guidelines. In case of conflict between these guidelines and Google’s guidelines, these supercede.</p>
<h2><a class="anchor" aria-hidden="true" id="use-of-css"></a><a href="#use-of-css" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use of CSS</h2>
<p>All styling is done according to Material-UI’s JSS styling and theming. It is extra important not to use CSS or inline JS styles if font, color or sizing is changed from the global style. The reason is that the UI will support themes, with ‘light’ and ‘dark’ being built-in to Material-UI.</p>
<h3><a class="anchor" aria-hidden="true" id="functional-components-and-hooks"></a><a href="#functional-components-and-hooks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Functional components and hooks</h3>
<p>We prefer this method as it doesn't add HOCs in the react tree like the <code>withStyles</code> does. The <code>makeStyles</code> function takes styles grouped by a key in an object and returns a hook that in turn returns class names.</p>
<p>How to setup the styles so that the CSS classes are created for us and how to make use of the hook to get the class names returned.</p>
<pre><code class="hljs css language-jsx"><span class="hljs-keyword">import</span> { makeStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">"@material-ui/core/styles"</span>;
<span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">"shared/components/Button"</span>;

<span class="hljs-comment">// simple custom styles</span>
<span class="hljs-keyword">const</span> useStyles = makeStyles({
  <span class="hljs-attr">button</span>: {
    <span class="hljs-attr">marginRight</span>: <span class="hljs-number">4</span>
  }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyButton</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> classes = useStyles();
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{classes.button}</span>&gt;</span>{props.children}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>;
}
</code></pre>
<p>Here is an example with theme values.</p>
<pre><code class="hljs css language-jsx"><span class="hljs-comment">// custom styles using theme variables</span>
<span class="hljs-keyword">const</span> useStyles = makeStyles(<span class="hljs-function"><span class="hljs-params">theme</span> =&gt;</span> ({
  <span class="hljs-attr">button</span>: {
    <span class="hljs-attr">marginRight</span>: theme.spacing(<span class="hljs-number">1</span>)
  }
}));

<span class="hljs-comment">// Button component would look the same</span>
</code></pre>
<p>And an example using dynamic values from props.</p>
<pre><code class="hljs css language-jsx"><span class="hljs-comment">// custom styles with dynamic values</span>
<span class="hljs-keyword">const</span> useStyles = makeStyles({
  <span class="hljs-attr">button</span>: {
    <span class="hljs-attr">marginRight</span>: <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> (<span class="hljs-keyword">typeof</span> props.margin === <span class="hljs-string">"number"</span> ? props.margin : <span class="hljs-number">4</span>)
  }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyButton</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-comment">// props = { margin:4 }</span>
  <span class="hljs-keyword">const</span> classes = useStyles(props);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{classes.button}</span>&gt;</span>{props.children}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>;
}
</code></pre>
<p>Pass <code>classes</code> from parent, because sometimes parents want some control. Our hook can extend the classes if passed an object with <code>classes</code> as props.</p>
<pre><code class="hljs css language-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyButton</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-comment">// props = { classes: { button: 'class-name-from-parent' } }</span>
  <span class="hljs-keyword">const</span> classes = useStyles(props);

  <span class="hljs-comment">// classes.button = 'class-name-our-styles class-name-from-parent'</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{classes.button}</span>&gt;</span>{props.children}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="class-components-and-hoc"></a><a href="#class-components-and-hoc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class components and HOC</h3>
<p>As hooks can only be used by function components we still use HOCs for class components.
The following example adds a color to <code>src/core/app/Themes.js</code> and uses this in the Material-UI style classes.</p>
<pre><code class="hljs css language-jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { withStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'@material-ui/core'</span>;
<span class="hljs-keyword">import</span> { darken, lighten } <span class="hljs-keyword">from</span> <span class="hljs-string">'@material-ui/core/styles/colorManipulator'</span>;

<span class="hljs-keyword">const</span> styles = <span class="hljs-function"><span class="hljs-params">theme</span> =&gt;</span> ({
  <span class="hljs-attr">globalInfoBar</span>: {
    <span class="hljs-attr">backgroundColor</span>: theme.palette.background.informational,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'90%'</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bolder'</span>,
    <span class="hljs-attr">lineHeight</span>: <span class="hljs-string">'1'</span>,
    <span class="hljs-attr">color</span>: theme.palette.type === <span class="hljs-string">'light'</span> ? <span class="hljs-string">'rgb(255, 255, 255)'</span> : <span class="hljs-string">'rgb(0, 0, 0)'</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-string">'10px 20px 10px 10px'</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-string">'relative'</span>,
  },
});

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">const</span> { classes } = <span class="hljs-keyword">this</span>.props;
  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{classes.globalInfoBar}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">CloseIcon</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> withStyles(styles)(MyComponent);
</code></pre>
<p>For more information about JSS and Material-UI theming and styling see MUI overrides, MUI Themes and the MUI default theme paramaters (before overrides in <code>src/core/app/Themes.js</code>).</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/plugin-structure"><span class="arrow-prev">← </span><span>Plugin structure</span></a><a class="docs-next button" href="/docs/errors-notifications"><span>Errors and Notifications</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#material-ui">Material-UI</a></li><li><a href="#use-of-css">Use of CSS</a><ul class="toc-headings"><li><a href="#functional-components-and-hooks">Functional components and hooks</a></li><li><a href="#class-components-and-hoc">Class components and HOC</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="footer-title"><a href="/"><h2 class="footerLogo"></h2></a></div><div><h5>Docs</h5><a href="https://github.com/spotify/backstage/blob/master/docs/getting-started/create-a-plugin.md">Create a Plugin</a><a href="https://github.com/spotify/backstage/blob/master/docs/getting-started/structure-of-a-plugin.md">Structure of a Plugin</a><a href="https://github.com/spotify/backstage/blob/master/docs/reference/README.md">API references</a><a href="https://github.com/spotify/backstage/blob/master/docs/FAQ.md">FAQ</a></div><div><h5>Community</h5><a href="https://discord.gg/MUpMjP2">Support chatroom</a><a href="https://mailchi.mp/spotify/backstage-community">Subscribe to our newsletter</a></div><div><h5>More</h5><a href="https://spotify.github.io/">Open Source @ Spotify</a><a href="https://github.com/spotify/backstage">GitHub</a><a class="github-button" href="https://github.com/spotify/backstage" data-icon="octicon-star" data-count-href="/spotify/backstage/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><div class="social"><a href="https://twitter.com/SpotifyEng" class="twitter-follow-button">Follow @SpotifyEng</a></div></div></section><a href="https://spotify.github.io/" target="_blank" rel="noreferrer noopener" class="spotifyOpenSource">Made with <span>❤</span> at Spotify</a><p class="copyright">Copyright © 2020 Spotify AB</p></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>